---
title: WPGraphQL Meta Query
description: Plugin that exposes the ability to query Post objects via Meta arguments
---

# About

This extension exposes arguments to PostObject connections allowing for posts to be filtered
by meta fields.

## Examples

```
add_action( 'graphql_register_types', function() {

  $post_types = WPGraphQL::$allowed_post_types;

  if ( ! empty( $post_types ) && is_array( $post_types ) ) {
    foreach ( $post_types as $post_type ) {
			$post_type_object = get_post_type_object( $post_type );

			if ($post_type === 'post') {
				register_graphql_field( $post_type_object->graphql_single_name, 'blurb', [
					'type' => 'String',
					'description' => __( 'The blurb of the post', 'wp-graphql' ),
					'resolve' => function( $post ) {
						$blurb = get_post_meta( $post->ID, 'blurb', true );
						return ! empty( $blurb ) ? $blurb : 'blue';
					}
				]);
			}

			if ($post_type === 'product') {
				register_graphql_field( $post_type_object->graphql_single_name, 'price', [
					'type' => 'String',
					'description' => __( 'The price of the post', 'wp-graphql' ),
					'resolve' => function( $post ) {
						$price = get_post_meta( $post->ID, 'price', true );
						return ! empty( $price ) ? $price : 'blue';
					}
				]);
			}
    }
  }
});
```
`@todo`

## Why isn't this in the core WPGraphQL plugin?

Meta Queries can be expensive. They've even been known to take down production sites. Instead of
enabling meta queries by default, they've been left out intentionally to allow site owners the
chance to critically think about whether or not they would like to support the functionality.

Many sites can support Meta Queries without issue, but many sites can have serious problems if
Meta Queries are executed.
